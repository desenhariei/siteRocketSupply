document.addEventListener("DOMContentLoaded",()=>{var t=new CommunsModel,e=new CommunsView,t=new CommunsController(t,e),e=new FumacaModel,i=new FumacaView,e=(new FumacaController(e,i,t),new FadeInModel),i=new FadeInView,e=(new FadeInController(e,i,t),new CarrosselModel),i=new CarrosselView;new CarrosselController(e,i,t)});class CarrosselController{constructor(t,e,i){this.model=t,this.view=e,this.communs=i,this.container=this.communs.getId(t.container),this.childs=this.communs.getArray(t.childs),this.divs=this.model.divs,this.currentTime=0,this.init(),requestAnimationFrame(this.animate.bind(this))}init(){this.divs.forEach((t,e)=>{t.pos0=this.communs.getArrPosition(this.childs,e,t.direc),t.size=this.communs.getSize(this.childs[e],t.direc)})}animate(t){var e=t-this.currentTime;if(this.communs.getHight(this.container)<=this.communs.getWindowHeight()&&50<=e){let i=this.communs.getDeltaScrollValue();this.divs.forEach((t,e)=>{t.pos=this.communs.getArrPosition(this.childs,e,t.direc),t.desloc=this.communs.deslocCtrl(t.sent,t.desloc,t.size,t.vel,i),this.communs.moveBG(this.childs[e],t.size,t.pos0,t.pos,t.desloc,t.vel,t.direc,t.sent,i)}),this.currentTime=t}requestAnimationFrame(this.animate.bind(this))}}class CommunsController{constructor(t,e){this.model=t,this.view=e,this.getDeltaScroll()}getId(t){return this.view.getId(t)}getArray(t){return this.view.getArray(t)}getArrPosition(t,e,i){return this.view.getArrPosition(t,e,i)}getSize(t,e){return this.view.getSize(t,e)}getHight(t){return this.view.getHight(t)}getWindowHeight(){return this.view.getWindowHeight()}moveBG(t,e,i,s,o,r,n,l,a){this.view.moveBG(t,e,i,s,o,r,n,l,a)}deslocCtrl(t,e,i,s,o){return this.view.deslocCtrl(t,e,i,s,o)}getDeltaScrollValue(){return this.model.windowAltVariat}getDeltaScroll(){window.addEventListener("scroll",()=>{this.model.calcDeltaScroll(),clearInterval(void 0),setInterval(()=>{this.model.resetScroll()},this.model.lastRender)})}getScroll(){return this.model.windowAltAgora}}class FadeInController{constructor(t,e,i){this.model=t,this.view=e,this.commun=i,this.lastScroll=0,this.textId=this.model.texts,this.textsProp=this.model.textsProp,this.texts=this.commun.getArray(this.textId),this.imgId=this.model.imgs,this.imgsProp=this.model.imgsProp,this.imgs=this.commun.getArray(this.imgId),console.log(this.imgsProp),requestAnimationFrame(this.animate.bind(this))}isVisible(t){var t=this.commun.getHight(t),e=this.commun.getWindowHeight();return t<=.8*e&&.1*e<=t}animate(){var t=this.commun.getScroll();this.lastScroll!=t&&(this.lastScroll=t,this.texts.forEach(t=>{this.view.fadeIn(t,this.isVisible(t),this.textsProp.direc,this.textsProp.valueIT,this.textsProp.valueFT,this.textsProp.valueIO,this.textsProp.valueFO)}),this.imgs.forEach(t=>{this.view.fadeIn(t,this.isVisible(t),this.imgsProp.direc,this.imgsProp.valueIT,this.imgsProp.valueFT,this.imgsProp.valueIO,this.imgsProp.valueFO)})),requestAnimationFrame(this.animate.bind(this))}}class FumacaController{constructor(t,e,i){this.model=t,this.view=e,this.communs=i,this.fumacas=this.communs.getArray(this.model.container),this.currentTmp=0,this.initProperties(),this.animate()}initProperties(){this.model.fumaca.forEach((t,e)=>{var i=t.id;t.id=this.communs.getId(i),t.size=this.communs.getSize(t.id,t.direc),t.posX0=this.communs.getArrPosition(this.fumacas,e,t.direc)})}animate(t){var e=t-this.currentTmp;if(0<=this.communs.getHight(this.fumacas[0])+this.communs.getSize(this.fumacas[0],"Y")&&50<=e){let i=this.communs.getDeltaScrollValue();this.model.fumaca.forEach((t,e)=>{t.position=this.communs.getArrPosition(this.fumacas,e,t.direc),this.communs.deslocCtrl(t.sent,t.desloc,t.size,t.vel,i),this.communs.moveBG(t.id,t.size,t.posX0,t.position,t.desloc,t.vel,t.direc,t.sent,i)}),this.currentTmp=t}requestAnimationFrame(this.animate.bind(this))}}class CarrosselModel{constructor(){this.divs=[{vel:1,direc:"Y",sent:"direita",desloc:0},{vel:-1,direc:"Y",sent:"esquerda",desloc:0},{vel:1,direc:"Y",sent:"direita",desloc:0},{vel:-1,direc:"Y",sent:"esquerda",desloc:0}],this.container="section03",this.childs="#section03>div"}}class CommunsModel{constructor(){this.windowAltAgora=0,this.windowUltimoAlt=0,this.windowAltVariat=0,this.lastRender=100}calcDeltaScroll(){this.windowAltAgora=window.scrollY,this.windowAltVariat=this.windowAltAgora-this.windowUltimoAlt,this.windowUltimoAlt=this.windowAltAgora}resetScroll(){this.windowAltVariat=0}}class FadeInModel{constructor(){this.texts=".content02 section article, #section04 section section:nth-child(n)",this.textsProp={valueIT:-300,valueFT:0,valueIO:0,valueFO:1,direc:"X"},this.imgs="#section02 .content02 figure img, #section04 section img:nth-of-type(-10n+1)",this.imgsProp={valueIT:0,valueFT:0,valueIO:.2,valueFO:1,direc:"Y"}}}class FumacaModel{constructor(){this.fumaca=[{id:"fumacaBase01Home",vel:3,direc:"X",sent:"direita",desloc:0},{id:"fumacaBase02Home",vel:2,direc:"X",sent:"direita",desloc:0},{id:"fumacaBase03Home",vel:-1,direc:"X",sent:"esquerda",desloc:0}],this.container="#transicaoFumaca section:nth-of-type(2) div"}}class CarrosselView{}class CommunsView{getId(t){return document.getElementById(t)}getArray(t){return Array.from(document.querySelectorAll(t))}getArrPosition(t,e,i){return parseInt(window.getComputedStyle(t[e])["backgroundPosition"+i])}getSize(t,e){return"X"===e?parseFloat(window.getComputedStyle(t).width):"Y"===e?parseFloat(window.getComputedStyle(t).height):void 0}getHight(t){return t.getBoundingClientRect().top}getWindowHeight(){return window.innerHeight}moveBG(t,e,i,s,o,r,n,l,a){t.style["backgroundPosition"+n]=o<e&&"direita"===l?r+s+2*a+"px":-e<o&&"esquerda"===l?r+s-a+"px":i+"px"}deslocCtrl(t,e,i,s,o){return"direita"===t?e<i?e+=s+o:e=0:"esquerda"===t&&(-i<e?e-=s+o:e=0),e}}class FadeInView{fadeIn(t,e,i,s,o,r,n){e?(console.log(s,o,r,n),t.style.transition="all 1s ease-in-out",t.style.transform=`translate${i}(${o}px)`,t.style.opacity=n):(t.style.transition="all 1s ease-in-out",t.style.transform=`translate${i}(${s}px)`,t.style.opacity=r)}}class FumacaView{}