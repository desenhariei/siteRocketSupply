document.addEventListener("DOMContentLoaded",()=>{var t=new CommunsModel,e=new CommunsView,t=new CommunsController(t,e),e=new IntersectionModel,e=new IntersectionController(e,t),s=new FumacaModel,s=(new FumacaController(s,t),new FadeInModel),i=new FadeInView,s=(new FadeInController(s,i,t),new CarrosselModel),i=new CarrosselView;new CarrosselController(s,i,t,e)});class CarrosselController{constructor(t,e,s,i){this.model=t,this.view=e,this.communs=s,this.intersection=i,this.imgs=[],this.model.imgSrc.forEach(t=>{var e=new Image;e.src=t,this.imgs.push(e)}),this.container=this.communs.getId(t.container),this.childs=this.communs.getArray(t.childs),this.divs=this.model.divs,this.currentTime=0,this.init(),requestAnimationFrame(this.animate.bind(this))}init(){this.divs.forEach((t,e)=>{t.pos0=this.communs.getArrPosition(this.childs,e,t.direc),t.size=this.communs.getSize(this.childs[e],t.direc);t=`url(${this.imgs[e].src})`;this.intersection.intersection(this.childs[e],this.view.changeBG,this.childs[e],t,"none")})}animate(t){var e=t-this.currentTime;if(this.communs.getHight(this.container)<=this.communs.getWindowHeight()&&50<=e){let s=this.communs.getDeltaScrollValue();this.divs.forEach((t,e)=>{t.pos=this.communs.getArrPosition(this.childs,e,t.direc),t.desloc=this.communs.deslocCtrl(t.sent,t.desloc,t.size,t.vel,s),this.communs.moveBG(this.childs[e],t.size,t.pos0,t.pos,t.desloc,t.vel,t.direc,t.sent,s)}),this.currentTime=t}requestAnimationFrame(this.animate.bind(this))}}class CommunsController{constructor(t,e){this.model=t,this.view=e,this.getDeltaScroll()}getId(t){return this.view.getId(t)}getArray(t){return this.view.getArray(t)}getArrPosition(t,e,s){return this.view.getArrPosition(t,e,s)}getSize(t,e){return this.view.getSize(t,e)}getHight(t){return this.view.getHight(t)}getWindowHeight(){return this.view.getWindowHeight()}moveBG(t,e,s,i,o,r,n,l,a){this.view.moveBG(t,e,s,i,o,r,n,l,a)}deslocCtrl(t,e,s,i,o){return this.view.deslocCtrl(t,e,s,i,o)}getDeltaScrollValue(){return this.model.windowAltVariat}getDeltaScroll(){window.addEventListener("scroll",()=>{this.model.calcDeltaScroll(),clearInterval(void 0),setInterval(()=>{this.model.resetScroll()},this.model.lastRender)})}getScroll(){return this.model.windowAltAgora}}class FadeInController{constructor(t,e,s){this.model=t,this.view=e,this.commun=s,this.lastScroll=0,this.textId=this.model.texts,this.textsProp=this.model.textsProp,this.texts=this.commun.getArray(this.textId),this.imgId=this.model.imgs,this.imgsProp=this.model.imgsProp,this.imgs=this.commun.getArray(this.imgId),requestAnimationFrame(this.animate.bind(this))}isVisible(t){var t=this.commun.getHight(t),e=this.commun.getWindowHeight();return t<=.8*e&&.1*e<=t}animate(){var t=this.commun.getScroll();this.lastScroll!=t&&(this.lastScroll=t,this.texts.forEach(t=>{this.view.fadeIn(t,this.isVisible(t),this.textsProp.direc,this.textsProp.valueIT,this.textsProp.valueFT,this.textsProp.valueIO,this.textsProp.valueFO)}),this.imgs.forEach(t=>{this.view.fadeIn(t,this.isVisible(t),this.imgsProp.direc,this.imgsProp.valueIT,this.imgsProp.valueFT,this.imgsProp.valueIO,this.imgsProp.valueFO)})),requestAnimationFrame(this.animate.bind(this))}}class FumacaController{constructor(t,e){this.model=t,this.communs=e,this.fumacas=this.communs.getArray(this.model.container),this.currentTmp=0,this.initProperties(),this.animate()}initProperties(){this.model.fumaca.forEach((t,e)=>{var s=t.id;t.id=this.communs.getId(s),t.size=this.communs.getSize(t.id,t.direc),t.posX0=this.communs.getArrPosition(this.fumacas,e,t.direc)})}animate(t){var e=t-this.currentTmp;if(0<=this.communs.getHight(this.fumacas[0])+this.communs.getSize(this.fumacas[0],"Y")&&50<=e){let s=this.communs.getDeltaScrollValue();this.model.fumaca.forEach((t,e)=>{t.position=this.communs.getArrPosition(this.fumacas,e,t.direc),this.communs.deslocCtrl(t.sent,t.desloc,t.size,t.vel,s),this.communs.moveBG(t.id,t.size,t.posX0,t.position,t.desloc,t.vel,t.direc,t.sent,s)}),this.currentTmp=t}requestAnimationFrame(this.animate.bind(this))}}class IntersectionController{constructor(t,e){this.communs=e,this.model=t,this.target=this.communs.getId(this.model.section02),this.videos=this.communs.getArray(this.model.section01Videos),this.pauseVideos()}pauseVideos(){window.addEventListener("scroll",()=>{let e=this.communs.getHight(this.target);this.videos.forEach(t=>{e<=0?t.pause():t.play()})})}intersection(t,e,...s){new IntersectionObserver(t=>{t[0].isIntersecting?e(s[0],s[1]):e(s[0],s[2])}).observe(t)}}class CarrosselModel{constructor(){this.imgSrc=["../src/assets/imagens/carrossel01.webp","../src/assets/imagens/carrossel02.webp","../src/assets/imagens/carrossel03.webp","../src/assets/imagens/carrossel04.webp"],this.divs=[{vel:1,direc:"Y",sent:"direita",desloc:0},{vel:-1,direc:"Y",sent:"esquerda",desloc:0},{vel:1,direc:"Y",sent:"direita",desloc:0},{vel:-1,direc:"Y",sent:"esquerda",desloc:0}],this.container="section03",this.childs="#section03>div"}}class CommunsModel{constructor(){this.windowAltAgora=0,this.windowUltimoAlt=0,this.windowAltVariat=0,this.lastRender=100}calcDeltaScroll(){this.windowAltAgora=window.scrollY,this.windowAltVariat=this.windowAltAgora-this.windowUltimoAlt,this.windowUltimoAlt=this.windowAltAgora}resetScroll(){this.windowAltVariat=0}}class FadeInModel{constructor(){this.texts=".content02 section article, #section04 section section:nth-child(n)",this.textsProp={valueIT:-300,valueFT:0,valueIO:0,valueFO:1,direc:"X"},this.imgs="#section02 .content02 figure img, #section04 section img:nth-of-type(-10n+1)",this.imgsProp={valueIT:0,valueFT:0,valueIO:.2,valueFO:1,direc:"Y"}}}class FumacaModel{constructor(){this.fumaca=[{id:"fumacaBase01Home",vel:3,direc:"X",sent:"direita",desloc:0},{id:"fumacaBase02Home",vel:2,direc:"X",sent:"direita",desloc:0},{id:"fumacaBase03Home",vel:-1,direc:"X",sent:"esquerda",desloc:0}],this.container="#transicaoFumaca section:nth-of-type(2) div"}}class IntersectionModel{constructor(){this.section02="section02",this.section01Videos="section video"}}class CarrosselView{changeBG(t,e){t.style.background=""+e,t.style.backgroundSize="100% auto"}}class CommunsView{getId(t){return document.getElementById(t)}getArray(t){return Array.from(document.querySelectorAll(t))}getArrPosition(t,e,s){return parseInt(window.getComputedStyle(t[e])["backgroundPosition"+s])}getSize(t,e){return"X"===e?parseFloat(window.getComputedStyle(t).width):"Y"===e?parseFloat(window.getComputedStyle(t).height):void 0}getHight(t){return t.getBoundingClientRect().top}getWindowHeight(){return window.innerHeight}moveBG(t,e,s,i,o,r,n,l,a){t.style["backgroundPosition"+n]=o<e&&"direita"===l?r+i+2*a+"px":-e<o&&"esquerda"===l?r+i-a+"px":s+"px"}deslocCtrl(t,e,s,i,o){return"direita"===t?e<s?e+=i+o:e=0:"esquerda"===t&&(-s<e?e-=i+o:e=0),e}}class FadeInView{fadeIn(t,e,s,i,o,r,n){e?(t.style.transition="all 1s ease-in-out",t.style.transform=`translate${s}(${o}px)`,t.style.opacity=n):(t.style.transition="all 1s ease-in-out",t.style.transform=`translate${s}(${i}px)`,t.style.opacity=r)}}